(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{190:function(e,t,a){e.exports=a(378)},196:function(e,t,a){},378:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(10),c=a.n(r),m=a(15),o=a(185),i=a(79),d=a(80),s=a(91),u=a(89),E=a(57),f=a(35),p=a(184),g=a(382),b=(a(195),a(196),a(197),a(188)),h=a(380),v=a(381),y=a(379),j=a(7),w=h.a.Item,N={layout:"vertical"},R=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var l=arguments.length,r=new Array(l),c=0;c<l;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).formRef=n.a.createRef(),e.handleSubmit=function(t){t&&t.preventDefault&&t.preventDefault(),e.formRef.current.validateFields().then((function(t){var a=e.props,l=a.type,n=a.nodes,r=a.edges,c=a.executeCommand,m="node"===l?n[0]:r[0];m&&c("update",{id:m.get("id"),updateModel:Object(b.a)({},t)})})).catch((function(e){throw new Error(e)}))},e.renderNodeDetail=function(){return setTimeout((function(){var t=e.props.nodes[0].getModel().label;e.formRef.current.setFieldsValue({label:t})})),n.a.createElement(h.a,Object.assign({ref:e.formRef},N),n.a.createElement(h.a.Item,{label:"Label",name:"label"},n.a.createElement(v.a,{onBlur:e.handleSubmit,value:"dwadwad"})))},e.renderEdgeDetail=function(){return setTimeout((function(){var t=e.props.edges[0].getModel().label;e.formRef.current.setFieldsValue({label:t})})),n.a.createElement(h.a,Object.assign({ref:e.formRef},N),n.a.createElement(w,{label:"Label",name:"label"},n.a.createElement(v.a,{onBlur:e.handleSubmit})))},e.renderMultiDetail=function(){return null},e.renderCanvasDetail=function(){return n.a.createElement("p",null,"Select a node or edge \ud83e\udd23")},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.type;return n.a.createElement(y.a,{title:e,bordered:!1},"node"===e&&this.renderNodeDetail(),"edge"===e&&this.renderEdgeDetail(),"multi"===e&&this.renderMultiDetail(),"canvas"===e&&this.renderCanvasDetail())}}]),a}(n.a.Component),X=j.c.create("node")(Object(j.j)(R)),C=j.c.create("edge")(Object(j.j)(R)),O=j.c.create("multi")(Object(j.j)(R)),x=j.c.create("canvas")(Object(j.j)(R)),S=j.h.EditorCommand,I={nodes:[{id:"0",label:"Node",x:55,y:55},{id:"1",label:"Node",x:55,y:255}],edges:[{label:"Label",source:"0",target:"1"}]},z=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).editorRef=n.a.createRef(),e.state={data:I},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.editorRef),setTimeout((function(){e.editorRef.current.state.graph.on(j.h.GraphNodeEvent.onNodeClick,(function(e){console.log(e.item.getModel())}))}),0)}},{key:"render",value:function(){return n.a.createElement("div",{className:"app"},n.a.createElement("header",null,"ggeditor"),n.a.createElement(j.i,{ref:this.editorRef,className:"editor"},n.a.createElement(E.a,null,n.a.createElement(f.a,{span:24},n.a.createElement("div",{className:"toolbar"},n.a.createElement(j.a,{name:S.Undo},n.a.createElement(p.a,{title:"\u64a4\u9500"},n.a.createElement("i",{className:"fa fa-undo"}))),n.a.createElement(j.a,{name:S.Redo},n.a.createElement(p.a,{title:"\u91cd\u505a"},n.a.createElement("i",{className:"fa fa-repeat"}))),n.a.createElement(j.a,{name:S.Remove},n.a.createElement(p.a,{title:"\u5220\u9664"},n.a.createElement("i",{className:"fa fa-trash-o"}))),n.a.createElement(j.a,{name:S.ZoomOut},n.a.createElement(p.a,{title:"\u653e\u5927"},n.a.createElement("i",{className:"fa fa-search-plus"}))),n.a.createElement(j.a,{name:S.ZoomIn},n.a.createElement(p.a,{title:"\u7f29\u5c0f"},n.a.createElement("i",{className:"fa fa-search-minus"})))))),n.a.createElement(E.a,null,n.a.createElement(f.a,{flex:"160px"},n.a.createElement(j.g,{className:"itempanel"},n.a.createElement(j.f,{model:{type:"circle",size:80,label:"circle"}},n.a.createElement("img",{alt:"\u5706",src:"https://gw.alicdn.com/tfs/TB1IRuSnRr0gK0jSZFnXXbRRXXa-110-112.png",width:"90",height:"90",draggable:!1})),n.a.createElement(j.f,{model:{type:"bizFlowNode",size:[100,50],label:"bizFlowNode"}},n.a.createElement("img",{alt:"\u77e9\u5f62",src:"https://s1.ax1x.com/2020/07/07/UAtT1I.png",width:"90",height:"90",draggable:!1})),n.a.createElement(j.f,{model:{type:"rect",size:[100,50],label:"rect"}},n.a.createElement("img",{alt:"\u77e9\u5f62",src:"https://gw.alicdn.com/tfs/TB1reKOnUT1gK0jSZFrXXcNCXXa-178-76.png",width:"90",height:"90",draggable:!1})),n.a.createElement(j.f,{model:{type:"ellipse",size:[100,50],label:"ellipse"}},n.a.createElement("img",{alt:"\u692d\u5706",src:"https://gw.alicdn.com/tfs/TB1AvmVnUH1gK0jSZSyXXXtlpXa-216-126.png",width:"90",height:"90",draggable:!1})),n.a.createElement(j.f,{model:{type:"diamond",size:[80,80],label:"diamond"}},n.a.createElement("img",{alt:"\u83f1\u5f62",src:"https://gw.alicdn.com/tfs/TB1EB9VnNz1gK0jSZSgXXavwpXa-178-184.png",width:"90",height:"90",draggable:!1})),n.a.createElement(j.f,{model:{type:"triangle",size:[30,30],label:"triangle"}},n.a.createElement("img",{alt:"\u4e09\u89d2\u5f62",src:"https://gw.alicdn.com/tfs/TB12sC2nKH2gK0jSZJnXXaT1FXa-126-156.png",width:"90",height:"90",draggable:!1})))),n.a.createElement(f.a,{flex:"auto"},n.a.createElement("div",{style:{position:"relative"}},n.a.createElement(j.e,{className:"flow",data:I,graphConfig:{defaultNode:{type:"bizFlowNode"},defaultEdge:{type:"bizFlowEdge"}}}))),n.a.createElement(f.a,{flex:"300px"},n.a.createElement("div",{className:"detailpanel"},n.a.createElement(X,null),n.a.createElement(C,null),n.a.createElement(O,null),n.a.createElement(x,null)))),n.a.createElement(j.d,null),n.a.createElement("div",{className:"contextmenu"},n.a.createElement(j.b,{type:"canvas",renderContent:function(e,t,a){var l=t.x,r=t.y;return n.a.createElement("div",{style:{position:"absolute",top:r,left:l}},n.a.createElement(g.a,{mode:"vertical",selectable:!1,onClick:a},n.a.createElement(g.a.Item,null,n.a.createElement(j.a,{name:S.Undo},"\u64a4\u9500")),n.a.createElement(g.a.Item,null,n.a.createElement(j.a,{name:S.Redo},"\u91cd\u505a")),n.a.createElement(g.a.Item,null,n.a.createElement(j.a,{name:S.PasteHere},"\u7c98\u8d34"))))}}),n.a.createElement(j.b,{type:"node",renderContent:function(e,t,a){var l=t.x,r=t.y;return n.a.createElement("div",{style:{position:"absolute",top:r,left:l}},n.a.createElement(g.a,{mode:"vertical",selectable:!1,onClick:a},n.a.createElement(g.a.Item,null,n.a.createElement(j.a,{name:S.Copy},"\u590d\u5236")),n.a.createElement(g.a.Item,null,n.a.createElement(j.a,{name:S.Remove},"\u5220\u9664"))))}}),n.a.createElement(j.b,{type:"edge",renderContent:function(e,t,a){var l=t.x,r=t.y;return n.a.createElement("div",{style:{position:"absolute",top:r,left:l}},n.a.createElement(g.a,{mode:"vertical",selectable:!1,onClick:a},n.a.createElement(g.a.Item,null,n.a.createElement(j.a,{name:S.Remove},"\u5220\u9664"))))}}))))}}]),a}(l.Component);c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(m.a,{locale:o.a},n.a.createElement(z,null))),document.getElementById("root"))}},[[190,1,2]]]);
//# sourceMappingURL=main.cb34dc00.chunk.js.map